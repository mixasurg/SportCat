<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
        <style type="text/css">
            html { height: 100% }
            body { height: 100%; margin: 0; padding: 0 }
            #map-canvas { height: 100% }
        </style>
         <link rel="stylesheet" type="text/css" href="https://yastatic.net/bootstrap/3.3.4/css/bootstrap.min.css">
         
	<script src="https://api-maps.yandex.ru/2.1/?apikey=e97e81bb-3c0e-40c4-8796-cc61badbfc99&lang=ru_RU"></script>
        <script type="text/javascript">
            var myMap;
            let markers = [];
            let markerCluster;
            var center = [55.10806033311338, 36.606742884436514];
			
            // Функция ymaps.ready() будет вызвана, когда
            // загрузятся все компоненты API, а также когда будет готово DOM-дерево.
            ymaps.ready(init);
            function init(){
                // Создание карты.
                myMap = new ymaps.Map("map-canvas", {
		// Координаты центра карты.
		// Порядок по умолчанию: «широта, долгота».
		// Чтобы не определять координаты центра карты вручную,
		// воспользуйтесь инструментом Определение координат.
//		center: [55.108505, 36.605135],
                center: center,
// Уровень масштабирования. Допустимые значения:
		// от 0 (весь мир) до 19.
		zoom: 14
		});
//                myMap.yandexMapDisablePoiInteractivity(true);

            }	
            function addMarkerUser (x,y)
            {
                 MyIconContentLayout = ymaps.templateLayoutFactory.createClass(
                '<img width="19" height="19" src=".\\user_icon.png">'
                );
                var address = [x,y];
                var marker = new ymaps.Placemark(address,{
                    balloonContentBody: [
                    '<strong>',
                    'Вы находитесь тут',
                    '</strong>'
                    ].join('')
                },{
                    preset: 'islands#glyphIcon', 
                    iconColor: 'grey',
                    iconContentOffset: [1, 15],
                    // Макет содержимого.
                    iconContentLayout: MyIconContentLayout
                });
                myMap.geoObjects.add(marker);
            }
            
            function addMarker( x, y, info, time, clour, icon_url, name, address1, contact) {
                MyIconContentLayout = ymaps.templateLayoutFactory.createClass(
                '<img width="19" height="19" src="$[properties.iconContent]">'
                );
                var address = [x,y];
                var marker = new ymaps.Placemark(address,{
                    iconContent: icon_url,
//                    balloonContent: info + "<br>" +time,
                    balloonContentBody: [
                    '<address>',
                    '<strong>',
                    name,
                    '</strong>',
                    '<br/>',
                    info,
                    '<br/>',
                    address1,
                    '<br/>',
                    time,
                    '<br/>',
                    'Подробнее: <a href="',contact,'">',contact,'</a>',
                    '</address>'
                    ].join('')
                },{
                    preset: 'islands#glyphIcon', 
                    iconColor: clour,
                    iconContentOffset: [1, 15],
                    // Макет содержимого.
                    iconContentLayout: MyIconContentLayout
                });
                markers.push(marker);
                 
            }
            
            function setMapOnAll() {
                for (let i = 0; i < markers.length; i++) {
                    myMap.geoObjects.add(markers[i]);
                }
            }
            function deleteMarkers() {
                myMap.geoObjects.removeAll();
                markers = [];
            }
        </script>

    </head>
    <body>
        <div id="map-canvas"></div>
    </body>
</html>